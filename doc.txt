Входящие подключения (сокеты) оборачиваются в коннект. У коннекта свой колбэк на входящие сообщения от сокета.

Как только коннект авторизуется, он оборачивается в плеер. Колбэк для сокета заменяется плееровским.

Когда начинается игра, плееры оборачиваются сессией. Колбэки для сокета заменяются сессионными.

